<!DOCTYPE HTML>
<html layout:decorate="~{base}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">

 <div class="row mb-2" layout:fragment="content-header">
    <div class="col-sm-6">
        <h1 class="m-0 text-dark">Data Person</h1>
    </div>
    <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="/dashboard" style = "color:navy;">Home</a></li>
            <li class="breadcrumb-item active">Data Personal</li>
        </ol>
    </div>
</div> 
      
<div class = "container-fluid" layout:fragment = "content-body">
	<section class = "content" >
		<div class = "row">
			<div class = "col-md-8">
				<div class = "card card-secondary" style = "background-color:#d9d9d9">
					<div class = "card-header bg-navy">
						<div class = "card-title"> Input Data Personal</div>
					</div>
					<div class = "card-body">
						<form>
							<div class = "form-group">
								<label for = "nik">Nik : </label><br>
								<input class = "form-control" type = "text" id = "nik" name = "nik" placeholder = "NIK">
								<br>
							</div>
							<div class = "form-group">
								<label for = "nama">Nama : </label><br>
								<input class = "form-control" type = "text" id = "nama" name = "nama" placeholder = "Nama">
								<br>
							</div>
							<div class = "row">
								<div class = "col-md-8">
								<div class = "form-group">
									<label for = "alamat">Alamat : </label><br>
									<input class = "form-control" type = "text" id = "alamat" name = "alamat" placeholder = "Alamat">
									<br>
								</div>
								<div class = "form-group">
									<label for = "tanggalLahir">Tanggal Lahir : </label><br>
									<div class = "input-group mb-3">
										<div class = "input-group-prepend">
											<span class="input-group-text">
												<i class="fa fa-calendar"></i>
											</span>
										</div>
										<input class = "form-control" type = "date" id = "tanggalLahir" name = tanggal_lahir placeholder = "Tanggal Lahir">
									</div>
									<br>
								</div>
								</div>
								<div class = "col-md-4">
								<div class = "form-group">
									<label for = "noHp">No Hp : </label><br>
									<input class = "form-control" type = "text" id = "noHp" name = "noHp" placeholder = "No HP">
									<br>
								</div>
								<div class = "form-group">
									<label for = "tempatLahir">Tempat Lahir : </label><br>
									<input class = "form-control" type = "text" id = "tempatLahir" name = "tempat_lahir" placeholder = "Tempat Lahir">
									<br>
								</div>
							</div>
							</div>
						</form>
					</div>
					<div class = "card-footer" align = "right" >
							<button style = "background-color:navy" type = "button" class = "btn btn-secondary input" id = "submitbutton"> Submit </button>
					</div>
				</div>
			</div>
		</div>	
	</section>
	
	<!-- jQuery -->
	<script th:src="@{/assets/plugins/jquery/jquery.min.js}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.9.1/parsley.min.js"></script> 
	<!-- DataTables -->
	<script th:src="@{/assets/plugins/datatables/jquery.dataTables.js}"></script>
	<script th:src="@{/assets/plugins/datatables-bs4/js/dataTables.bootstrap4.js}"></script>
	<!-- SweetAlert2 -->
	<script th:src="@{/assets/plugins/sweetalert2/sweetalert2.min.js}"></script>
	<!-- Toastr -->
	<script th:src="@{/assets/plugins/toastr/toastr.min.js}"></script>
	<!-- AJAX -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script type="text/javascript">
	$(".input").click(function() {
		if($("#nik").val() == '' || $('#nama').val() == '' || $('#alamat').val() == '' || $('#noHp').val() == '' || $('#tanggalLahir').val() == '' || $('#tempatLahir').val() == '') {
			Swal.fire({
				text : 'Field tidak boleh kosong',
				confirmButtonText : 'Ok'
			})
		} else if ($('#nik').val().length < 16 || $('#nik').val().length > 16){
			Swal.fire({
				text : 'Masukan 16 Digit NIK',
				confirmButtonText : 'Ok'
			})
		} 
		else {
		var dob = $('#tanggalLahir').val();
			dob = new Date(dob);
		var current = new Date();
		var	age = current - dob;
		var	ageGet = Math.floor(age / 1000 / 60 / 60 / 24 / 365.25); // age / ms / sec / min / hour / days in a year
			if(ageGet < 30){
				Swal.fire({
					text : 'Usia anda belum memenuhi',
					confirmButtonText : 'Ok'
				})
			}else{
				Swal.fire({
					  title: 'Submit the data?',
					  showCancelButton: true,
					  confirmButtonText: 'Yes',
					  cancelButtonText: 'Cancel'
				}).then((result) => {
					  if (result.value) {
							    Swal.fire(
							      'Submitted'
							    )
					  } else if (
							    result.dismiss === Swal.DismissReason.cancel
							  ) {
							    Swal.fire(
							  		'Cancelled'
							    )
							  }
					});
				}
			
			}	
	})
	</script>
	
</div>
</html>